package usuarios;

import java.util.ArrayList;

public class CtrDomUsr {
	
	private UsuarioDom current;
	private GestorPerUsr gpu;
	
	/*Constructora*/
	public CtrDomUsr() {
		gpu = new GestorPerUsr();
	}
	
	//Afegim un nou Usuari
	public boolean afegirUsuari(String u, String p) {
		boolean afegit = false;
		current = new UsuarioDom(u, p);
		afegit=gpu.afegirUsuari(current);
		return afegit;
	}
	
	//Quan passem false comprovem password i nom d'usuari.
	//Quan passem true comprovarem el noms d'usuari.
	public boolean isUser1(String u, String p, boolean cas){
		current = new UsuarioDom(u,p);
		ArrayList<String> noms = new ArrayList();
		ArrayList<String> pass = new ArrayList();
		if (!cas){ //Cas login (comprovem password i nom d'usuari
			gpu.isUser2(noms, pass, false);
			int pos=noms.indexOf(u);
			return (noms.contains(u) & pass.contains(p) & (p.equals(pass.get(pos))));
		} else{
			gpu.isUser2(noms, pass, true);
			return noms.contains(u);
		}
	}
	
	//Ens modifica el nostre nom d'usuari
	public void modUs2(String u, String u2){
		ArrayList<String> noms = new ArrayList();
		ArrayList<String> pass = new ArrayList();
		gpu.isUser2(noms, pass, false);
		noms.set(noms.indexOf(u), u2);
		gpu.escriu(noms, pass);
	}
	
	//Modifica la nostra password
	public void modPass2(String u, String p){
		ArrayList<String> noms = new ArrayList();
		ArrayList<String> pass = new ArrayList();
		gpu.isUser2(noms, pass, false);
		pass.set(pass.indexOf(u), p);
		gpu.escriu(noms, pass);
	}
}
