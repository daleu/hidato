import java.io.IOException;
import java.util.ArrayList;

public class TaulellHidato extends Taulell{
	
	public ArrayList[][] candidats;
	public Casilla Matriu_joc [][];
	private int Matriu_solucio [][];
	private ArrayList<Integer> usats;

	public TaulellHidato(int tamany) {
		super(tamany);
		Matriu_joc = new Casilla[tamany][tamany];
		Matriu_solucio = new int[tamany][tamany];
		for (int i=0; i<tamany; ++i){
			for (int j=0; j<tamany; ++j){
				Matriu_joc[i][j] = new Casilla();
				candidats[i][j] = new ArrayList();
			}
		}
		candidats = new ArrayList[tamany][tamany];
		usats = new ArrayList<Integer>();
	}
	
	//Si entrada=false, entra pel driver. Si entrada=true, escriu el client
	public void modifica_valor (int new_valor, int fila, int columna, boolean entrada) {
		if (fila >= Matriu_joc.length | columna >= Matriu_joc[0].length | usats.contains(new_valor)){
		/*	IOException error = new IOException();
			throw error;*/
		}
		else {
			if (entrada==true) {
				if (!Matriu_joc[fila][columna].getEditable()){
		/*			IOException error = new IOException();
					throw error;*/
				}
				else Matriu_joc[fila][columna].setValor(new_valor);	
			}
			else {
				if (Matriu_joc[fila][columna].getEditable()){
					Matriu_joc[fila][columna].setValor(new_valor);
					Matriu_joc[fila][columna].setEditable(false);
					Matriu_solucio[fila][columna]=new_valor;
					usats.add(new_valor);
				}
				else {
				/*	IOException error = new IOException();
					throw error;*/
				}
			}
		}
	}
	
	public void intForat (int fila, int columna) {
		int i=0;
		Matriu_joc[fila][columna].setValor(i);
		Matriu_joc[fila][columna].setEditable(false);
		Matriu_solucio[fila][columna]=i;
	}
}
